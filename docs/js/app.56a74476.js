(function(e){function t(t){for(var o,s,l=t[0],i=t[1],c=t[2],u=0,f=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(f.length)f.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(o=!1)}o&&(n.splice(t--,1),e=s(s.s=a[0]))}return e}var o={},r={app:0},n=[];function s(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=o,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(a,o,function(t){return e[t]}.bind(null,o));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-holiday-planner/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=i;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"5d34":function(e,t,a){},bfbf:function(e,t,a){"use strict";a("5d34")},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("7a23");function r(e,t,a,r,n,s){var l=Object(o["n"])("ResourceView");return Object(o["i"])(),Object(o["c"])(l,{resources:e.rows,onHeaderClick:e.onHeaderClick,onRowClick:e.onRowClick,onDayClick:e.onDayClick,onSelectionEnd:e.onSelectionEnd},null,8,["resources","onHeaderClick","onRowClick","onDayClick","onSelectionEnd"])}var n=function(e){return Object(o["k"])("data-v-1d382994"),e=e(),Object(o["j"])(),e},s={class:"container"},l={class:"header"},i={key:0,class:"range"},c={class:"header"},d=n((function(){return Object(o["f"])("div",{class:"side-header side"},null,-1)})),u=["data-day-id"],f={class:"body"},h={class:"side-body side"},b=["src"],y={class:"card-content"},v={class:"title"},p={class:"subtitle"},m={ref:"rowContainer"},O=["data-row-id"],j=["data-day-id"],g={class:"day-content"};function w(e,t,a,r,n,w){return Object(o["i"])(),Object(o["e"])("div",s,[Object(o["f"])("div",l,[Object(o["m"])(e.$slots,"title",{from:e.from,to:e.to},(function(){return[null!=e.from&&null!=e.to?(Object(o["i"])(),Object(o["e"])("div",i,Object(o["o"])(e.dateFormat(e.from,"MMM YYYY"))+" â€• "+Object(o["o"])(e.dateFormat(e.to,"MMM YYYY")),1)):Object(o["d"])("",!0)]}),!0)]),Object(o["f"])("div",c,[d,Object(o["f"])("div",{class:"main-header",ref:"scrollHeader",onClick:t[0]||(t[0]=function(){return e.onHeaderClick&&e.onHeaderClick.apply(e,arguments)})},[(Object(o["i"])(!0),Object(o["e"])(o["a"],null,Object(o["l"])(e.days,(function(e,t){return Object(o["i"])(),Object(o["e"])("div",{class:Object(o["h"])(["header-day",e.headerClass]),key:t,"data-day-id":t},Object(o["o"])(e.title),11,u)})),128))],512)]),Object(o["f"])("div",f,[Object(o["f"])("div",h,[(Object(o["i"])(!0),Object(o["e"])(o["a"],null,Object(o["l"])(e.resources,(function(t){return Object(o["i"])(),Object(o["e"])("div",{key:t.id,class:"row row-side card"},[Object(o["m"])(e.$slots,"row-header",{row:t},(function(){return[Object(o["f"])("img",{class:"avatar",src:t.img},null,8,b),Object(o["f"])("div",y,[Object(o["f"])("div",v,Object(o["o"])(t.title),1),Object(o["f"])("div",p,Object(o["o"])(t.subtitle),1)])]}),!0)])})),128))]),Object(o["f"])("div",{class:"main-body",ref:"scrollBody",onClick:t[1]||(t[1]=function(){return e.onBodyClick&&e.onBodyClick.apply(e,arguments)}),onMousedown:t[2]||(t[2]=function(){return e.onBodyMousedown&&e.onBodyMousedown.apply(e,arguments)})},[Object(o["f"])("div",m,[(Object(o["i"])(!0),Object(o["e"])(o["a"],null,Object(o["l"])(e.resources,(function(t){return Object(o["i"])(),Object(o["e"])("div",{key:t.id,class:"row row-main","data-row-id":t.id},[(Object(o["i"])(!0),Object(o["e"])(o["a"],null,Object(o["l"])(e.days,(function(a,r){return Object(o["i"])(),Object(o["e"])("div",{key:r,class:Object(o["h"])(["day-main",[e._getDateClasses(t,a),{selected:e.selected[a.key]&&e.selectedRows[t.id]}]]),"data-day-id":r},[Object(o["f"])("div",g,Object(o["o"])(a.value),1)],10,j)})),128))],8,O)})),128))],512)],544)])])}var k=a("2909"),D=a("b85c"),M=(a("a15b"),a("5a0c")),R=a.n(M),C=a("4650"),S=a.n(C),T=a("2ef0");R.a.extend(S.a);var L=40,x=70,F=200,_=400,B=5,H=Object(o["g"])({name:"ResourceView",props:{resources:{type:Array,required:!0},startDate:{default:function(){return R()().startOf("day")}},sideContainerWidth:{default:"200px"},maxDate:{default:function(){return R()().startOf("year").add(12,"month")}},minDate:{default:function(){return R()().startOf("year").add(6,"month")}},infiniteScroll:{type:Boolean,default:!0},customDays:{type:Object,default:function(){return{}}},getClassFn:{type:Function,default:function(e){var t=e.day();if(6===t||0===t)return"weekend"}},getHeaderClassFn:{type:Function,default:function(e){return{today:e.isSame(R()(),"day"),"start-of-month":1===e.date()}}},getDayValueFn:{type:Function,default:function(e){return e.date()}},getDayHeaderFn:{type:Function,default:function(e){return e.format("dd")[0]}},selectionEnabled:{type:Boolean,default:!0}},created:function(){this.referenceDate=this.startDate,this.checkScrollableThresholdHit=Object(T["debounce"])(this._checkScrollableThresholdHit.bind(this),250),this.updateRange=Object(T["throttle"])(this._updateRange.bind(this),250),this.referenceDate=this.startDate,this.scrollableFrom=this.positionToDate(this.scrollableLeft),this.scrollableTo=this.positionToDate(this.scrollableRight)},mounted:function(){var e=this;this.createDays();var t=this.$refs,a=t.scrollBody,o=a.scrollLeft,r=a.clientWidth;this._updateRange(o,o+r),this.referenceScrollLeft=this.dateToPosition(this.referenceDate),t.scrollBody.addEventListener("scroll",this.onBodyScroll.bind(this)),setTimeout((function(){e.centerOn(e.startDate,"auto")}))},methods:{onBodyScroll:function(e){var t=this.$refs,a=t.scrollBody,o=a.scrollLeft,r=a.clientWidth;t.scrollHeader.scrollLeft=o,this.checkScrollableThresholdHit(o,r),this.updateRange(o,o+r)},onHeaderClick:function(e){var t=e.target;if(null!=t.dataset.dayId){var a=this.days[+t.dataset.dayId];this.$emit("header-click",{event:e,date:a&&a.date}),this.centerOn(a.date)}},onBodyClick:function(e){var t=e.target,a=t.closest("[data-row-id]");a&&this.$emit("row-click",{event:e,row:this.resources[+a.dataset.rowId]});var o=t.closest("[data-day-id]");o&&this.$emit("day-click",{event:e,row:a&&this.resources[+a.dataset.rowId],date:o&&this.days[+o.dataset.dayId].date}),this.selecting||this.clearSelection()},onBodyMousedown:function(e){var t=this;if(this.selectionEnabled){var a=this.$refs,o=a.rowContainer,r=d(e),n=r.x,s=r.y,l=!1,i=function(e){var a=d(e),o=a.x,r=a.y;if(l){t.selecting=!0;var i,c=Math.min(n,o),u=Math.max(n,o),f=Math.min(s,r),h=Math.max(s,r),b={},y={},v=Object(D["a"])(t.days);try{for(v.s();!(i=v.n()).done;){var p=i.value;p.left+L>=c&&p.left<=u&&(b[p.key]=!0)}}catch(g){v.e(g)}finally{v.f()}var m,O=Object(D["a"])(t.rows);try{for(O.s();!(m=O.n()).done;){var j=m.value;j.top+x>=f&&j.top<=h&&(y[j.resource.id]=!0)}}catch(g){O.e(g)}finally{O.f()}t.selected=b,t.selectedRows=y}else{if(!(Math.abs(o-n)>B||Math.abs(r-s)>B))return;l=!0}},c=function e(a){setTimeout((function(){t.selecting=!1}));var o,r=d(a),l=r.x,c=r.y,u=Math.min(n,l),f=Math.max(n,l),h=Math.min(s,c),b=Math.max(s,c),y=[],v=[],p=Object(D["a"])(t.days);try{for(p.s();!(o=p.n()).done;){var m=o.value;m.left+L>=u&&m.left<=f&&y.push(m.date)}}catch(w){p.e(w)}finally{p.f()}var O,j=Object(D["a"])(t.rows);try{for(j.s();!(O=j.n()).done;){var g=O.value;g.top+x>=h&&g.top<=b&&v.push(g.resource)}}catch(w){j.e(w)}finally{j.f()}t.$emit("selection-end",{event:a,dates:y,resources:v}),document.body.removeEventListener("mousemove",i),document.body.removeEventListener("mouseup",e)};document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",c)}function d(e){var t=o.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},centerOn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",a=this.$refs,o=a.scrollBody.clientWidth,r=this.dateToPosition(e);a.scrollBody.scrollTo({left:r+L/2-o/2,behavior:t})},positionToDate:function(e){var t=Math.floor(e/L);return this.referenceDate.add(t,"day")},dateToPosition:function(e){var t=e.diff(this.scrollableFrom,"day");return this.days[t].left},_checkScrollableThresholdHit:function(e,t){e-this.referenceScrollLeft<this.scrollableLeftThreshold&&this._expandScrollableRange(this.scrollableLeft-_,this.scrollableRight),e+t-this.referenceScrollLeft>this.scrollableRightThreshold&&this._expandScrollableRange(this.scrollableLeft,this.scrollableRight+_)},_expandScrollableRange:function(e,t){var a=this.scrollableLeft-e;this.scrollableLeft=e,this.scrollableRight=t,this.scrollableFrom=this.minDate&&!this.infiniteScroll?R.a.max(this.positionToDate(this.scrollableLeft),this.minDate):this.positionToDate(this.scrollableLeft),this.scrollableTo=this.maxDate&&!this.infiniteScroll?R.a.min(this.positionToDate(this.scrollableRight),this.maxDate):this.positionToDate(this.scrollableRight),this.scrollableLeftThreshold=this.scrollableLeft+F,this.scrollableRightThreshold=this.scrollableRight-F;var o=this.$refs;o.scrollBody.scrollLeft+=a,o.scrollHeader.scrollLeft=o.scrollBody.scrollLeft,this.createDays(),this.referenceScrollLeft=this.dateToPosition(this.referenceDate)},clearSelection:function(){this.selected={},this.selectedRows={}},createDays:function(){var e=this.scrollableFrom;this.days=[];var t=0;while(e<this.scrollableTo){var a=this.getKey(e),o={title:this.getDayHeaderFn(e),value:this.getDayValueFn(e),key:a,date:e,headerClass:this.getHeaderClassFn(e),class:this._getDateClass(e),left:t};this.days.push(o),t+=L,e=e.add(1,"day")}},_getDateClass:function(e){var t=[],a=this.getKey(e),o=this.customDays[a];if(o&&t.push(o.class),this.getClassFn){var r=this.getClassFn(e);r&&(Array.isArray(r)?t.push.apply(t,Object(k["a"])(r)):t.push(r))}return t.join(" ")},_updateRange:function(e,t){var a=Math.floor(e/L),o=Math.floor(t/L)-1,r=this.days[a].date,n=this.days[o].date;this.from=r,this.to=n},getKey:function(e){return e.format("DDMMYYYY")},_getDateClasses:function(e,t){return(this.classes[e.id][t.key]||"")+(t.class?" "+t.class:"")}},computed:{dateFormat:function(){return function(e,t){return e.format(t)}},classes:function(){var e,t=this.resources,a={},o=Object(D["a"])(t);try{for(o.s();!(e=o.n()).done;){var r=e.value;if(a[r.id]={},r.days){var n,s=Object(D["a"])(r.days);try{for(s.s();!(n=s.n()).done;){var l=n.value,i=this.getKey(l.date);a[r.id][i]=l.class}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){o.e(c)}finally{o.f()}return a},rows:function(){var e,t=this.resources,a=[],o=0,r=Object(D["a"])(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;a.push({resource:n,top:o}),o+=x}}catch(s){r.e(s)}finally{r.f()}return a}},data:function(){return{days:[],from:null,to:null,selected:{},selectedRows:{},today:R()(),referenceDate:null,referenceScrollLeft:null,scrollableFrom:null,scrollableTo:null,scrollableLeft:-1200,scrollableRight:1200,scrollableLeftThreshold:null,scrollableRightThreshold:null,checkScrollableThresholdHit:null,updateRange:null,selecting:!1}}}),P=(a("bfbf"),a("6b0d")),Y=a.n(P);const E=Y()(H,[["render",w],["__scopeId","data-v-1d382994"]]);var $=E;function I(){var e=R()().startOf("year");function t(){return e.add(Math.floor(365*Math.random()),"day")}for(var a=["orange","green","purple"],o=[{id:1,title:"Krystalle Logie",subtitle:"Senior Sales Associate",img:"assets/woman1.jpg",days:[]},{id:2,title:"Izabel Riveles",subtitle:"Senior Financial Analyst",img:"assets/woman2.jpg",days:[]},{id:3,title:"Rancell Qualtrough",subtitle:"Information Systems Manager",img:"assets/man2.jpg",days:[]},{id:4,title:"Pearle Vowels",subtitle:"Recruiter",img:"assets/man1.jpg",days:[]},{id:5,title:"Marysa Rable",subtitle:"VP Product Management",img:"assets/woman3.jpg",days:[]}],r=0;r<5;r++){for(var n=[],s=0;s<24;s++)for(var l=Math.floor(5*Math.random()),i=a[s%3],c=t(),d=0;d<l;d++)n.push({date:c,class:i}),c=c.add(1,"day");o[r].days=n}return o}var V=Object(o["g"])({name:"App",components:{ResourceView:$},methods:{onHeaderClick:function(e){console.log("header click",e)},onRowClick:function(e){console.log("row click",e)},onDayClick:function(e){console.log("day click",e)},onSelectionEnd:function(e){console.log("selection end",e)}},data:function(){return{rows:I()}}});const A=Y()(V,[["render",r]]);var K=A;Object(o["b"])(K).mount("#app")}});
//# sourceMappingURL=app.56a74476.js.map