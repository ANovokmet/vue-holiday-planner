(function(t){function e(e){for(var s,r,n=e[0],l=e[1],c=e[2],h=0,u=[];h<n.length;h++)r=n[h],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==o[l]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},o={app:0},i=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/vue-holiday-planner/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"034f":function(t,e,a){"use strict";a("85ec")},"0c11":function(t,e,a){},"85ec":function(t,e,a){},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,o=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("HolidayPlanner",{staticClass:"holiday-planner",attrs:{resources:t.rows,infiniteScroll:!0,customDays:t.customDays,startDate:t.startDate},on:{"header-click":t.onHeaderClick,"row-click":t.onRowClick,"day-click":t.onDayClick,"selection-end":t.onSelectionEnd}})},r=[],n=a("5530"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hp-container"},[t.enableHeader?a("div",{staticClass:"hp-header"},[t._t("title",(function(){return[null!=t.from&&null!=t.to?a("div",{staticClass:"range"},[t._v(" "+t._s(t.dateFormat(t.from,"MMM YYYY"))+" â€• "+t._s(t.dateFormat(t.to,"MMM YYYY"))+" ")]):t._e()]}),{from:t.from,to:t.to})],2):t._e(),a("div",{staticClass:"hp-header"},[a("div",{staticClass:"side-header side"}),a("div",{staticClass:"main-header",class:{"hp-right-scrollbar-visible":t.rightScrollbarVisible},on:{click:t.onHeaderClick}},[a("div",{staticClass:"hp-floating-button move-left",on:{click:t.onMoveLeftClick}},[a("svg",{attrs:{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.81809 4.18179C8.99383 4.35753 8.99383 4.64245 8.81809 4.81819L6.13629 7.49999L8.81809 10.1818C8.99383 10.3575 8.99383 10.6424 8.81809 10.8182C8.64236 10.9939 8.35743 10.9939 8.1817 10.8182L5.1817 7.81819C5.09731 7.73379 5.0499 7.61933 5.0499 7.49999C5.0499 7.38064 5.09731 7.26618 5.1817 7.18179L8.1817 4.18179C8.35743 4.00605 8.64236 4.00605 8.81809 4.18179Z",fill:"currentColor"}})])]),a("div",{staticClass:"hp-floating-button move-right",on:{click:t.onMoveRightClick}},[a("svg",{attrs:{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.18194 4.18185C6.35767 4.00611 6.6426 4.00611 6.81833 4.18185L9.81833 7.18185C9.90272 7.26624 9.95013 7.3807 9.95013 7.50005C9.95013 7.6194 9.90272 7.73386 9.81833 7.81825L6.81833 10.8182C6.6426 10.994 6.35767 10.994 6.18194 10.8182C6.0062 10.6425 6.0062 10.3576 6.18194 10.1819L8.86374 7.50005L6.18194 4.81825C6.0062 4.64251 6.0062 4.35759 6.18194 4.18185Z",fill:"currentColor"}})])]),a("div",{ref:"scrollHeader",staticClass:"hp-header-scroller"},[a("div",{staticClass:"hp-header-row"},t._l(t.months,(function(e,s){return a("div",{key:s,staticClass:"header-month",style:{"flex-basis":e.width+"px"},attrs:{"data-month-id":s}},[a("div",{staticClass:"hp-month-label"},[t._v(t._s(e.title))])])})),0),a("div",{staticClass:"hp-header-row"},t._l(t.days,(function(e,s){return a("div",{key:s,staticClass:"header-day",class:e.headerClass,attrs:{"data-day-id":s}},[t._v(" "+t._s(e.title)+" ")])})),0)])])]),a("div",{staticClass:"hp-body"},[a("div",{staticClass:"side-body side hp-bottom-scrollbar-visible"},[a("div",{ref:"scrollSide",staticClass:"hp-side-scroller"},t._l(t.resources,(function(e){return a("div",{key:e.id,staticClass:"hp-row row-side hp-card",style:{height:t.rowHeight+"px"}},[t._t("row-header",(function(){return[a("img",{staticClass:"avatar",attrs:{src:e.img}}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"subtitle"},[t._v(t._s(e.subtitle))])])]}),{row:e})],2)})),0)]),a("div",{ref:"scrollBody",staticClass:"main-body",on:{click:t.onBodyClick,mousedown:t.onBodyMousedown}},[a("div",{ref:"rowContainer",staticStyle:{overflow:"hidden",position:"relative"},style:{width:40*t.days.length+"px"}},t._l(t.resources,(function(e){return a("div",{key:e.id,staticClass:"hp-row row-main",style:{height:t.rowHeight+"px"},attrs:{"data-row-id":e.id}},[t._l(e.days,(function(e,s){return a("div",{key:"interval-"+s,staticClass:"hp-interval",class:t._getIntervalClass(e),style:t._getIntervalStyle(e)})})),t._l(t.days,(function(s,o){return a("div",{key:o,staticClass:"day-main",class:[t._getDateClasses(e,s),{selected:t.selected[s.key]&&t.selectedRows[e.id]}],attrs:{"data-day-id":o}},[a("div",{staticClass:"day-content"},[t._v(" "+t._s(s.value)+" ")])])}))],2)})),0)])])])},c=[],d=a("2909"),h=a("b85c"),u=(a("a9e3"),a("a15b"),a("5a0c")),f=a.n(u),y=a("4650"),v=a.n(y),p=a("f678"),m=a.n(p),b=a("b047"),g=a.n(b),w=a("0f32"),C=a.n(w);function D(){if(void 0===s){s=!1;try{"undefined"!==typeof window&&window.parent&&window.parent.document}catch(t){s=!0}}return s}function k(t,e,a){return t.addEventListener(e,a),function(){return t.removeEventListener(e,a)}}function _(t,e){t.appendChild(e)}function T(t){t.parentNode.removeChild(t)}function L(t,e){var a=getComputedStyle(t),s=(parseInt(a.zIndex)||0)-1;"static"===a.position&&(t.style.position="relative");var o=document.createElement("iframe");o.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; "+"overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ".concat(s,";")),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;var i,r=D();return r?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=k(window,"message",(function(t){t.source===o.contentWindow&&e()}))):(o.src="about:blank",o.onload=function(){i=k(o.contentWindow,"resize",e)}),_(t,o),function(){(r||i&&o.contentWindow)&&i(),T(o)}}f.a.extend(v.a);var M=40,S=400,x=400,R=5,O=o["a"].extend({name:"HolidayPlanner",props:{resources:{type:Array,required:!0},startDate:{type:Object,default:function(){return f()().startOf("day")}},referenceDate:{type:Object,default:function(){return f()().startOf("day")}},maxDate:{type:Object,default:function(){return f()().endOf("year")}},minDate:{type:Object,default:function(){return f()().startOf("year")}},infiniteScroll:{type:Boolean,default:!0},customDays:{type:Array,default:function(){return[]}},getClassFn:{type:Function,default:function(t){var e=t.day(),a=[];return 6!==e&&0!==e||a.push("weekend"),t.isSame(f()(),"day")&&a.push("today"),1===t.date()&&a.push("start-of-month"),a}},getHeaderClassFn:{type:Function,default:function(t){return{today:t.isSame(f()(),"day"),"start-of-month":1===t.date(),weekend:6===t.day()||0===t.day()}}},getDayValueFn:{type:Function,default:function(t){return t.date()}},getDayHeaderFn:{type:Function,default:function(t){return t.format("dd")}},selectionEnabled:{type:Boolean,default:!0},enableHeader:{type:Boolean,default:!1},rowHeight:{type:Number,default:50}},created:function(){this.scrollableFrom=this.positionToDate(this.scrollableLeft),this.scrollableTo=this.positionToDate(this.scrollableRight),this.checkScrollableThresholdHit=g()(this._checkScrollableThresholdHit.bind(this),100),this.updateRange=C()(this._updateRange.bind(this),100)},mounted:function(){var t=this;this.createDays(),this.createMonths();var e=this.$refs.scrollBody,a=e.scrollLeft,s=e.clientWidth;this._updateRange(a,a+s),this.referenceScrollLeft=this.dateToPosition(this.referenceDate),this.$refs.scrollBody.addEventListener("scroll",this.onBodyScroll.bind(this)),L(this.$refs.scrollBody,(function(){var e=t.$refs.scrollBody,a=e.clientWidth,s=e.clientHeight;t.visibleWidth=a,t.visibleHeight=s})),setTimeout((function(){var e=t.dateToPositionRelative(t.startDate),a=t.$refs.scrollBody,s=a.scrollLeft,o=a.clientWidth;t._expandScrollableRange(e,e+o+1e3),t.scrollLeftTo(t.startDate,"auto"),t.checkScrollableThresholdHit(s,o),t.updateRange(s,s+o)})),this.computeClasses()},methods:{_getIntervalStyle:function(t){var e=Object.assign({},t.style);if(t.startDate&&t.endDate){var a=this.dateToPosition(t.startDate),s=this.dateToPosition(t.endDate);e.left="".concat(a,"px"),e.width="".concat(s-a+M,"px")}return e},_getIntervalClass:function(t){return t.class},computeClasses:function(){var t,e=this.resources,a={},s=Object(h["a"])(e);try{for(s.s();!(t=s.n()).done;){var o=t.value;if(a[o.id]={},o.days){var i,r=Object(h["a"])(o.days);try{for(r.s();!(i=r.n()).done;){var n=i.value;if(n.date){var l=this.getKey(n.date);a[o.id][l]={model:n,classes:n.class}}else if(n.startDate&&n.endDate){var c=n.startDate;if(n.endDate<n.startDate){console.error("endDate is before startDate");continue}while(c<=n.endDate){var d=this.getKey(c);a[o.id][d]={model:n,classes:n.class},c=c.add(1,"day")}}else console.warn("Day without date",n)}}catch(u){r.e(u)}finally{r.f()}}}}catch(u){s.e(u)}finally{s.f()}this.rowData=a},onBodyScroll:function(t){var e=this,a=this.$refs.scrollBody,s=a.scrollLeft,o=a.scrollTop,i=a.clientWidth;requestAnimationFrame((function(){e.$refs.scrollHeader.scrollLeft=s,e.$refs.scrollSide.scrollTop=o})),this.checkScrollableThresholdHit(s,i),this.updateRange(s,s+i)},onHeaderClick:function(t){var e=t.target;if(null!=e.dataset.dayId){var a=this.days[+e.dataset.dayId];this.$emit("header-click",{event:t,date:a&&a.date}),this.centerOn(a.date)}},onBodyClick:function(t){var e=t.target,a=e.closest("[data-row-id]");a&&this.$emit("row-click",{event:t,row:this.resources[+a.dataset.rowId]});var s=e.closest("[data-day-id]");if(s){var o,i=s&&this.days[+s.dataset.dayId];if(a&&i){var r=this.rowData[+a.dataset.rowId][i.key];o=r&&r.model}this.$emit("day-click",{event:t,row:a&&this.resources[+a.dataset.rowId],date:i.date,model:o})}this.selecting||this.clearSelection()},onMoveLeftClick:function(t){var e;e=1===this.from.date()?this.from.subtract(1,"day").startOf("month"):this.from.startOf("month");var a=this.dateToPositionRelative(e),s=this.$refs.scrollBody,o=(s.scrollLeft,s.clientWidth);this._expandScrollableRange(a,a+o+1e3),this.scrollLeftTo(e)},onMoveRightClick:function(t){var e=this.from.add(1,"month").startOf("month"),a=this.dateToPositionRelative(e),s=this.$refs.scrollBody,o=(s.scrollLeft,s.clientWidth);this._expandScrollableRange(a-1e3,a+o+1e3),this.scrollLeftTo(e)},onBodyMousedown:function(t){var e=this;if(this.selectionEnabled){var a=this.$refs.rowContainer,s=function(t){var e=a.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},o=s(t),i=o.x,r=o.y,n=!1,l=function(t){var a=s(t),o=a.x,l=a.y;if(n){e.selecting=!0;var c,d=Math.min(i,o),u=Math.max(i,o),f=Math.min(r,l),y=Math.max(r,l),v={},p={},m=Object(h["a"])(e.days);try{for(m.s();!(c=m.n()).done;){var b=c.value;b.left+M>=d&&b.left<=u&&(v[b.key]=!0)}}catch(D){m.e(D)}finally{m.f()}var g,w=Object(h["a"])(e.rows);try{for(w.s();!(g=w.n()).done;){var C=g.value;C.top+e.rowHeight>=f&&C.top<=y&&(p[C.resource.id]=!0)}}catch(D){w.e(D)}finally{w.f()}e.selected=v,e.selectedRows=p}else{if(!(Math.abs(o-i)>R||Math.abs(l-r)>R))return;n=!0}},c=function t(a){setTimeout((function(){e.selecting=!1}));var o,n=s(a),c=n.x,d=n.y,u=Math.min(i,c),f=Math.max(i,c),y=Math.min(r,d),v=Math.max(r,d),p=[],m=[],b=Object(h["a"])(e.days);try{for(b.s();!(o=b.n()).done;){var g=o.value;g.left+M>=u&&g.left<=f&&p.push(g.date)}}catch(k){b.e(k)}finally{b.f()}var w,C=Object(h["a"])(e.rows);try{for(C.s();!(w=C.n()).done;){var D=w.value;D.top+e.rowHeight>=y&&D.top<=v&&m.push(D.resource)}}catch(k){C.e(k)}finally{C.f()}e.$emit("selection-end",{event:a,dates:p,resources:m}),document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",t)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",c)}},centerOn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",a=this.$refs.scrollBody.clientWidth,s=this.dateToPosition(t);this.$refs.scrollBody.scrollTo({left:s+M/2-a/2,behavior:e})},scrollLeftTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",a=this.dateToPosition(t);this.$refs.scrollBody.scrollTo({left:a,behavior:e})},positionToDate:function(t){var e=Math.floor(t/M);return this.referenceDate.add(e,"day")},dateToPosition:function(t){var e=t.diff(this.scrollableFrom,"day"),a=m()(e,0,this.days.length-1);return this.days[a]?e*M:0},dateToPositionRelative:function(t){var e=t.diff(this.referenceDate,"day"),a=m()(e,0,this.days.length-1);return this.days[a]?e*M:0},_checkScrollableThresholdHit:function(t,e){t-this.referenceScrollLeft<this.scrollableLeftThreshold&&this._expandScrollableRange(this.scrollableLeft-x,this.scrollableRight),t+e-this.referenceScrollLeft>this.scrollableRightThreshold&&this._expandScrollableRange(this.scrollableLeft,this.scrollableRight+x)},_expandScrollableRange:function(t,e){var a=this.scrollableLeft-t;this.scrollableLeft=t,this.scrollableRight=e,this.scrollableFrom=this.minDate&&!this.infiniteScroll?f.a.max(this.positionToDate(this.scrollableLeft),this.minDate):this.positionToDate(this.scrollableLeft),this.scrollableTo=this.maxDate&&!this.infiniteScroll?f.a.min(this.positionToDate(this.scrollableRight),this.maxDate):this.positionToDate(this.scrollableRight),this.scrollableLeftThreshold=this.scrollableLeft+S,this.scrollableRightThreshold=this.scrollableRight-S,this.$refs.scrollBody.scrollLeft+=a,this.$refs.scrollHeader.scrollLeft=this.$refs.scrollBody.scrollLeft,this.createDays(),this.createMonths(),this.referenceScrollLeft=this.dateToPosition(this.referenceDate)},clearSelection:function(){this.selected={},this.selectedRows={}},createDays:function(){var t=this.scrollableFrom;this.days=[];var e=0;while(t<this.scrollableTo){var a=this.getKey(t),s={title:this.getDayHeaderFn(t),value:this.getDayValueFn(t),key:a,date:t,headerClass:this._getDateHeaderClass(t),class:this._getDateClass(t),left:e};this.days.push(s),e+=M,t=t.add(1,"day")}},createMonths:function(){var t=this.scrollableFrom;this.months=[];while(t<this.scrollableTo){var e=f.a.max(t.startOf("month"),this.scrollableFrom),a=f.a.min(t.endOf("month"),this.scrollableTo),s=a.diff(e,"day"),o={title:e.format("MMMM YYYY"),date:t,width:(s+1)*M};this.months.push(o),t=a.add(1,"day")}},_getDateHeaderClass:function(t){var e=[];e.push(this.getHeaderClassFn(t));var a=this.getKey(t),s=this.customDayRecords[a];return s&&e.push(s.headerClass),e},_getDateClass:function(t){var e=[],a=this.getKey(t),s=this.customDayRecords[a];if(s&&(Array.isArray(s.class)?e.push.apply(e,Object(d["a"])(s.class)):e.push(s.class)),this.getClassFn){var o=this.getClassFn(t);o&&(Array.isArray(o)?e.push.apply(e,Object(d["a"])(o)):e.push(o))}return e.join(" ")},_updateRange:function(t,e){var a=Math.floor(t/M),s=Math.floor(e/M)-1,o=this.days[a].date,i=this.days[s].date;this.from=o,this.to=i},getKey:function(t){return t.format("YYYY-MM-DD")},_getDateClasses:function(t,e){return(e.class?e.class+" ":"")+(this.rowData[t.id]&&this.rowData[t.id][e.key]&&this.rowData[t.id][e.key].classes||"")},_getDateStyle:function(t,e){return this.rowData[t.id]&&this.rowData[t.id][e.key]&&this.rowData[t.id][e.key].model.style}},watch:{resources:function(){this.computeClasses()}},computed:{dateFormat:function(){return function(t,e){return t.format(e)}},rows:function(){var t,e=this.resources,a=[],s=0,o=Object(h["a"])(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;a.push({resource:i,top:s}),s+=this.rowHeight}}catch(r){o.e(r)}finally{o.f()}return a},rowContainerHeight:function(){return this.rows.length*this.rowHeight},rightScrollbarVisible:function(){return this.rowContainerHeight>this.visibleHeight},customDayRecords:function(){var t,e={},a=Object(h["a"])(this.customDays);try{for(a.s();!(t=a.n()).done;){var s=t.value,o=this.getKey(s.date);e[o]=s}}catch(i){a.e(i)}finally{a.f()}return e}},data:function(){return{months:[],days:[],from:null,to:null,rowData:{},selected:{},selectedRows:{},today:f()(),referenceScrollLeft:0,scrollableFrom:null,scrollableTo:null,scrollableLeft:-1200,scrollableRight:1200,scrollableLeftThreshold:null,scrollableRightThreshold:null,checkScrollableThresholdHit:function(t,e){},updateRange:function(t,e){},selecting:!1,visibleWidth:0,visibleHeight:0}}}),H=O,j=(a("e331"),a("2877")),B=Object(j["a"])(H,l,c,!1,null,"38237621",null),F=B.exports,P=a("5e77d"),$=a.n(P);function Y(){var t=f()().startOf("year");function e(){return t.add(Math.floor(365*Math.random()),"day")}for(var a=["toovoimetus","kodukontor","puhkus","lahetus","koolitused","kontor"],s=[{title:"Krystalle Logie",subtitle:"Senior Sales Associate",img:"assets/woman1.jpg"},{title:"Izabel Riveles",subtitle:"Senior Financial Analyst",img:"assets/woman2.jpg"},{title:"Rancell Qualtrough",subtitle:"Information Systems Manager",img:"assets/man2.jpg"},{title:"Pearle Vowels",subtitle:"Recruiter",img:"assets/man1.jpg"},{title:"Marysa Rable",subtitle:"VP Product Management",img:"assets/woman3.jpg"}],o=[],i=0;i<10;i++){for(var r=Object(n["a"])(Object(n["a"])({},s[i%s.length]),{},{id:i,days:[]}),l=[],c=0;c<24;c++){var d=Math.floor(5*Math.random()),h=a[c%a.length],u=e();l.push({startDate:u,endDate:u.add(d,"day"),class:h})}r.days=l,o.push(r)}return o}f.a.extend($.a);var I=o["a"].extend({name:"App",components:{HolidayPlanner:F},methods:{onHeaderClick:function(t){console.log("header click",t)},onRowClick:function(t){console.log("row click",t)},onDayClick:function(t){console.log("day click",t)},onSelectionEnd:function(t){console.log("selection end",t)}},data:function(){return{rows:Y(),customDays:[{date:f()("2022-02-01"),class:"public-holiday"}],startDate:f()("2022-02-01")}}}),E=I,A=(a("034f"),Object(j["a"])(E,i,r,!1,null,null,null)),W=A.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(t){return t(W)}}).$mount("#app")},e331:function(t,e,a){"use strict";a("0c11")}});
//# sourceMappingURL=app.d72cb4d1.js.map