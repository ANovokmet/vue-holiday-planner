(function(t){function e(e){for(var s,i,n=e[0],l=e[1],c=e[2],h=0,u=[];h<n.length;h++)i=n[h],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(u.length)u.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},r={app:0},o=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/vue-holiday-planner/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"034f":function(t,e,a){"use strict";a("85ec")},5454:function(t,e,a){},"85ec":function(t,e,a){},a392:function(t,e,a){"use strict";a("5454")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("HolidayPlanner",{staticClass:"holiday-planner",attrs:{resources:t.rows,infiniteScroll:!0,customDays:t.customDays,startDate:t.startDate},on:{"header-click":t.onHeaderClick,"row-click":t.onRowClick,"day-click":t.onDayClick,"selection-end":t.onSelectionEnd}})},i=[],n=a("5530"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hp-container"},[t.enableHeader?a("div",{staticClass:"hp-header"},[t._t("title",(function(){return[null!=t.from&&null!=t.to?a("div",{staticClass:"range"},[t._v(" "+t._s(t.dateFormat(t.from,"MMM YYYY"))+" â€• "+t._s(t.dateFormat(t.to,"MMM YYYY"))+" ")]):t._e()]}),{from:t.from,to:t.to})],2):t._e(),a("div",{staticClass:"hp-header"},[a("div",{staticClass:"side-header side"}),a("div",{staticClass:"main-header",class:{"hp-right-scrollbar-visible":t.rightScrollbarVisible},on:{click:t.onHeaderClick}},[a("div",{ref:"scrollHeader",staticClass:"hp-header-scroller"},[a("div",{staticClass:"hp-header-row"},t._l(t.months,(function(e,s){return a("div",{key:s,staticClass:"header-month",style:{"flex-basis":e.width+"px"},attrs:{"data-month-id":s}},[a("div",{staticClass:"hp-month-label"},[t._v(t._s(e.title))])])})),0),a("div",{staticClass:"hp-header-row"},t._l(t.days,(function(e,s){return a("div",{key:s,staticClass:"header-day",class:e.headerClass,attrs:{"data-day-id":s}},[t._v(" "+t._s(e.title)+" ")])})),0)])])]),a("div",{staticClass:"hp-body"},[a("div",{staticClass:"side-body side hp-bottom-scrollbar-visible"},[a("div",{ref:"scrollSide",staticClass:"hp-side-scroller"},t._l(t.resources,(function(e){return a("div",{key:e.id,staticClass:"hp-row row-side hp-card"},[t._t("row-header",(function(){return[a("img",{staticClass:"avatar",attrs:{src:e.img}}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("div",{staticClass:"subtitle"},[t._v(t._s(e.subtitle))])])]}),{row:e})],2)})),0)]),a("div",{ref:"scrollBody",staticClass:"main-body",on:{click:t.onBodyClick,mousedown:t.onBodyMousedown}},[a("div",{ref:"rowContainer"},t._l(t.resources,(function(e){return a("div",{key:e.id,staticClass:"hp-row row-main",attrs:{"data-row-id":e.id}},t._l(t.days,(function(s,r){return a("div",{key:r,staticClass:"day-main",class:[t._getDateClasses(e,s),{selected:t.selected[s.key]&&t.selectedRows[e.id]}],attrs:{"data-day-id":r}},[a("div",{staticClass:"day-content"},[t._v(" "+t._s(s.value)+" ")])])})),0)})),0)])])])},c=[],d=a("2909"),h=a("b85c"),u=(a("a15b"),a("5a0c")),f=a.n(u),y=a("4650"),p=a.n(y),v=a("f678"),b=a.n(v),m=a("b047"),g=a.n(m),w=a("0f32"),D=a.n(w);function C(){if(void 0===s){s=!1;try{"undefined"!==typeof window&&window.parent&&window.parent.document}catch(t){s=!0}}return s}function _(t,e,a){return t.addEventListener(e,a),function(){return t.removeEventListener(e,a)}}function k(t,e){t.appendChild(e)}function M(t){t.parentNode.removeChild(t)}function T(t,e){var a=getComputedStyle(t),s=(parseInt(a.zIndex)||0)-1;"static"===a.position&&(t.style.position="relative");var r=document.createElement("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; "+"overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ".concat(s,";")),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;var o,i=C();return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=_(window,"message",(function(t){t.source===r.contentWindow&&e()}))):(r.src="about:blank",r.onload=function(){o=_(r.contentWindow,"resize",e)}),k(t,r),function(){(i||o&&r.contentWindow)&&o(),M(r)}}f.a.extend(p.a);var S=40,O=70,x=200,R=400,L=5,j=r["a"].extend({name:"HolidayPlanner",props:{resources:{type:Array,required:!0},startDate:{type:Object,default:function(){return f()().startOf("day")}},maxDate:{type:Object,default:function(){return f()().endOf("year")}},minDate:{type:Object,default:function(){return f()().startOf("year")}},infiniteScroll:{type:Boolean,default:!0},customDays:{type:Array,default:function(){return[]}},getClassFn:{type:Function,default:function(t){var e=t.day(),a=[];return 6!==e&&0!==e||a.push("weekend"),t.isSame(f()(),"day")&&a.push("today"),a}},getHeaderClassFn:{type:Function,default:function(t){return{today:t.isSame(f()(),"day"),"start-of-month":1===t.date()}}},getDayValueFn:{type:Function,default:function(t){return t.date()}},getDayHeaderFn:{type:Function,default:function(t){return t.format("dd")[0]}},selectionEnabled:{type:Boolean,default:!0},enableHeader:{type:Boolean,default:!1}},created:function(){this.referenceDate=this.startDate,this.scrollableFrom=this.positionToDate(this.scrollableLeft),this.scrollableTo=this.positionToDate(this.scrollableRight),this.checkScrollableThresholdHit=g()(this._checkScrollableThresholdHit.bind(this),250),this.updateRange=D()(this._updateRange.bind(this),250)},mounted:function(){var t=this;this.createDays(),this.createMonths();var e=this.$refs.scrollBody,a=e.scrollLeft,s=e.clientWidth;this._updateRange(a,a+s),this.referenceScrollLeft=this.dateToPosition(this.referenceDate),this.$refs.scrollBody.addEventListener("scroll",this.onBodyScroll.bind(this)),T(this.$refs.scrollBody,(function(){var e=t.$refs.scrollBody,a=e.clientWidth,s=e.clientHeight;t.visibleWidth=a,t.visibleHeight=s})),setTimeout((function(){t.scrollLeftTo(t.startDate,"auto")})),this.computeClasses()},methods:{computeClasses:function(){var t,e=this.resources,a={},s=Object(h["a"])(e);try{for(s.s();!(t=s.n()).done;){var r=t.value;if(a[r.id]={},r.days){var o,i=Object(h["a"])(r.days);try{for(i.s();!(o=i.n()).done;){var n=o.value;if(n.date){var l=this.getKey(n.date);a[r.id][l]={model:n,classes:n.class}}else if(n.startDate&&n.endDate){var c=n.startDate;if(n.endDate<n.startDate){console.error("endDate is before startDate");continue}while(c<n.endDate){var d=this.getKey(c);a[r.id][d]={model:n,classes:n.class},c=c.add(1,"day")}}else console.warn("Day without date",n)}}catch(u){i.e(u)}finally{i.f()}}}}catch(u){s.e(u)}finally{s.f()}this.rowData=a},onBodyScroll:function(t){var e=this,a=this.$refs.scrollBody,s=a.scrollLeft,r=a.scrollTop,o=a.clientWidth;requestAnimationFrame((function(){e.$refs.scrollHeader.scrollLeft=s,e.$refs.scrollSide.scrollTop=r})),this.checkScrollableThresholdHit(s,o),this.updateRange(s,s+o)},onHeaderClick:function(t){var e=t.target;if(null!=e.dataset.dayId){var a=this.days[+e.dataset.dayId];this.$emit("header-click",{event:t,date:a&&a.date}),this.centerOn(a.date)}},onBodyClick:function(t){var e=t.target,a=e.closest("[data-row-id]");a&&this.$emit("row-click",{event:t,row:this.resources[+a.dataset.rowId]});var s=e.closest("[data-day-id]");if(s){var r,o=s&&this.days[+s.dataset.dayId];if(a&&o){var i=this.rowData[+a.dataset.rowId][o.key];r=i&&i.model}this.$emit("day-click",{event:t,row:a&&this.resources[+a.dataset.rowId],date:o.date,model:r})}this.selecting||this.clearSelection()},onBodyMousedown:function(t){var e=this;if(this.selectionEnabled){var a=this.$refs.rowContainer,s=function(t){var e=a.getBoundingClientRect();return{x:t.clientX-e.left,y:t.clientY-e.top}},r=s(t),o=r.x,i=r.y,n=!1,l=function(t){var a=s(t),r=a.x,l=a.y;if(n){e.selecting=!0;var c,d=Math.min(o,r),u=Math.max(o,r),f=Math.min(i,l),y=Math.max(i,l),p={},v={},b=Object(h["a"])(e.days);try{for(b.s();!(c=b.n()).done;){var m=c.value;m.left+S>=d&&m.left<=u&&(p[m.key]=!0)}}catch(C){b.e(C)}finally{b.f()}var g,w=Object(h["a"])(e.rows);try{for(w.s();!(g=w.n()).done;){var D=g.value;D.top+O>=f&&D.top<=y&&(v[D.resource.id]=!0)}}catch(C){w.e(C)}finally{w.f()}e.selected=p,e.selectedRows=v}else{if(!(Math.abs(r-o)>L||Math.abs(l-i)>L))return;n=!0}},c=function t(a){setTimeout((function(){e.selecting=!1}));var r,n=s(a),c=n.x,d=n.y,u=Math.min(o,c),f=Math.max(o,c),y=Math.min(i,d),p=Math.max(i,d),v=[],b=[],m=Object(h["a"])(e.days);try{for(m.s();!(r=m.n()).done;){var g=r.value;g.left+S>=u&&g.left<=f&&v.push(g.date)}}catch(_){m.e(_)}finally{m.f()}var w,D=Object(h["a"])(e.rows);try{for(D.s();!(w=D.n()).done;){var C=w.value;C.top+O>=y&&C.top<=p&&b.push(C.resource)}}catch(_){D.e(_)}finally{D.f()}e.$emit("selection-end",{event:a,dates:v,resources:b}),document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",t)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",c)}},centerOn:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",a=this.$refs.scrollBody.clientWidth,s=this.dateToPosition(t);this.$refs.scrollBody.scrollTo({left:s+S/2-a/2,behavior:e})},scrollLeftTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",a=this.dateToPosition(t);this.$refs.scrollBody.scrollTo({left:a,behavior:e})},positionToDate:function(t){var e=Math.floor(t/S);return this.referenceDate.add(e,"day")},dateToPosition:function(t){var e=t.diff(this.scrollableFrom,"day"),a=b()(e,0,this.days.length-1);return this.days[a].left},_checkScrollableThresholdHit:function(t,e){t-this.referenceScrollLeft<this.scrollableLeftThreshold&&this._expandScrollableRange(this.scrollableLeft-R,this.scrollableRight),t+e-this.referenceScrollLeft>this.scrollableRightThreshold&&this._expandScrollableRange(this.scrollableLeft,this.scrollableRight+R)},_expandScrollableRange:function(t,e){var a=this.scrollableLeft-t;this.scrollableLeft=t,this.scrollableRight=e,this.scrollableFrom=this.minDate&&!this.infiniteScroll?f.a.max(this.positionToDate(this.scrollableLeft),this.minDate):this.positionToDate(this.scrollableLeft),this.scrollableTo=this.maxDate&&!this.infiniteScroll?f.a.min(this.positionToDate(this.scrollableRight),this.maxDate):this.positionToDate(this.scrollableRight),this.scrollableLeftThreshold=this.scrollableLeft+x,this.scrollableRightThreshold=this.scrollableRight-x,this.$refs.scrollBody.scrollLeft+=a,this.$refs.scrollHeader.scrollLeft=this.$refs.scrollBody.scrollLeft,this.createDays(),this.createMonths(),this.referenceScrollLeft=this.dateToPosition(this.referenceDate)},clearSelection:function(){this.selected={},this.selectedRows={}},createDays:function(){var t=this.scrollableFrom;this.days=[];var e=0;while(t<this.scrollableTo){var a=this.getKey(t),s={title:this.getDayHeaderFn(t),value:this.getDayValueFn(t),key:a,date:t,headerClass:this._getDateHeaderClass(t),class:this._getDateClass(t),left:e};this.days.push(s),e+=S,t=t.add(1,"day")}},createMonths:function(){var t=this.scrollableFrom;this.months=[];while(t<this.scrollableTo){var e=f.a.max(t.startOf("month"),this.scrollableFrom),a=f.a.min(t.endOf("month"),this.scrollableTo),s=a.diff(e,"day"),r={title:e.format("MMM YYYY"),date:t,width:(s+1)*S};this.months.push(r),t=a.add(1,"day")}},_getDateHeaderClass:function(t){var e=[];e.push(this.getHeaderClassFn(t));var a=this.getKey(t),s=this.customDayRecords[a];return s&&e.push(s.headerClass),e},_getDateClass:function(t){var e=[],a=this.getKey(t),s=this.customDayRecords[a];if(s&&(Array.isArray(s.class)?e.push.apply(e,Object(d["a"])(s.class)):e.push(s.class)),this.getClassFn){var r=this.getClassFn(t);r&&(Array.isArray(r)?e.push.apply(e,Object(d["a"])(r)):e.push(r))}return e.join(" ")},_updateRange:function(t,e){var a=Math.floor(t/S),s=Math.floor(e/S)-1,r=this.days[a].date,o=this.days[s].date;this.from=r,this.to=o},getKey:function(t){return t.format("YYYY-MM-DD")},_getDateClasses:function(t,e){return(e.class?e.class+" ":"")+(this.rowData[t.id]&&this.rowData[t.id][e.key]&&this.rowData[t.id][e.key].classes||"")}},watch:{resources:function(){this.computeClasses()}},computed:{dateFormat:function(){return function(t,e){return t.format(e)}},rows:function(){var t,e=this.resources,a=[],s=0,r=Object(h["a"])(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;a.push({resource:o,top:s}),s+=O}}catch(i){r.e(i)}finally{r.f()}return a},rowContainerHeight:function(){return this.rows.length*O},rightScrollbarVisible:function(){return this.rowContainerHeight>this.visibleHeight},customDayRecords:function(){var t,e={},a=Object(h["a"])(this.customDays);try{for(a.s();!(t=a.n()).done;){var s=t.value,r=this.getKey(s.date);e[r]=s}}catch(o){a.e(o)}finally{a.f()}return e}},data:function(){return{months:[],days:[],from:null,to:null,rowData:{},selected:{},selectedRows:{},today:f()(),referenceDate:null,referenceScrollLeft:0,scrollableFrom:null,scrollableTo:null,scrollableLeft:-1200,scrollableRight:1200,scrollableLeftThreshold:null,scrollableRightThreshold:null,checkScrollableThresholdHit:function(t,e){},updateRange:function(t,e){},selecting:!1,visibleWidth:0,visibleHeight:0}}}),H=j,F=(a("a392"),a("2877")),B=Object(F["a"])(H,l,c,!1,null,"370c6280",null),$=B.exports,P=a("5e77d"),Y=a.n(P);function E(){var t=f()().startOf("year");function e(){return t.add(Math.floor(365*Math.random()),"day")}for(var a=["orange","green","purple"],s=[{title:"Krystalle Logie",subtitle:"Senior Sales Associate",img:"assets/woman1.jpg"},{title:"Izabel Riveles",subtitle:"Senior Financial Analyst",img:"assets/woman2.jpg"},{title:"Rancell Qualtrough",subtitle:"Information Systems Manager",img:"assets/man2.jpg"},{title:"Pearle Vowels",subtitle:"Recruiter",img:"assets/man1.jpg"},{title:"Marysa Rable",subtitle:"VP Product Management",img:"assets/woman3.jpg"}],r=[],o=0;o<10;o++){for(var i=Object(n["a"])(Object(n["a"])({},s[o%s.length]),{},{id:o,days:[]}),l=[],c=0;c<24;c++){var d=Math.floor(5*Math.random()),h=a[c%3],u=e();l.push({startDate:u,endDate:u.add(d,"day"),class:h})}i.days=l,r.push(i)}return r}f.a.extend(Y.a);var A=r["a"].extend({name:"App",components:{HolidayPlanner:$},methods:{onHeaderClick:function(t){console.log("header click",t)},onRowClick:function(t){console.log("row click",t)},onDayClick:function(t){console.log("day click",t)},onSelectionEnd:function(t){console.log("selection end",t)}},data:function(){return{rows:E(),customDays:[{date:f()("2022-02-01"),headerClass:"circle circle-orange",class:"orange"}],startDate:f()().startOf("isoWeek")}}}),I=A,W=(a("034f"),Object(F["a"])(I,o,i,!1,null,null,null)),K=W.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(K)}}).$mount("#app")}});
//# sourceMappingURL=app.2fa4d19f.js.map