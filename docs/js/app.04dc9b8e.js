(function(e){function t(t){for(var s,i,n=t[0],l=t[1],c=t[2],u=0,h=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&h.push(r[i][0]),r[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var s={},r={app:0},o=[];function i(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=s,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-holiday-planner/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";a("85ec")},"0a78":function(e,t,a){},"85ec":function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,r=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("HolidayPlanner",{staticClass:"holiday-planner",attrs:{resources:e.rows,infiniteScroll:!0,customDays:e.customDays},on:{"header-click":e.onHeaderClick,"row-click":e.onRowClick,"day-click":e.onDayClick,"selection-end":e.onSelectionEnd}})},i=[],n=a("5530"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"header"},[e._t("title",(function(){return[null!=e.from&&null!=e.to?a("div",{staticClass:"range"},[e._v(" "+e._s(e.dateFormat(e.from,"MMM YYYY"))+" â€• "+e._s(e.dateFormat(e.to,"MMM YYYY"))+" ")]):e._e()]}),{from:e.from,to:e.to})],2),a("div",{staticClass:"header"},[a("div",{staticClass:"side-header side"}),a("div",{staticClass:"main-header",class:{"hp-right-scrollbar-visible":e.rightScrollbarVisible},on:{click:e.onHeaderClick}},[a("div",{ref:"scrollHeader",staticClass:"hp-header-scroller"},e._l(e.days,(function(t,s){return a("div",{key:s,staticClass:"header-day",class:t.headerClass,attrs:{"data-day-id":s}},[e._v(" "+e._s(t.title)+" ")])})),0)])]),a("div",{staticClass:"body"},[a("div",{staticClass:"side-body side hp-bottom-scrollbar-visible"},[a("div",{ref:"scrollSide",staticClass:"hp-side-scroller"},e._l(e.resources,(function(t){return a("div",{key:t.id,staticClass:"row row-side card"},[e._t("row-header",(function(){return[a("img",{staticClass:"avatar",attrs:{src:t.img}}),a("div",{staticClass:"card-content"},[a("div",{staticClass:"title"},[e._v(e._s(t.title))]),a("div",{staticClass:"subtitle"},[e._v(e._s(t.subtitle))])])]}),{row:t})],2)})),0)]),a("div",{ref:"scrollBody",staticClass:"main-body",on:{click:e.onBodyClick,mousedown:e.onBodyMousedown}},[a("div",{ref:"rowContainer"},e._l(e.resources,(function(t){return a("div",{key:t.id,staticClass:"row row-main",attrs:{"data-row-id":t.id}},e._l(e.days,(function(s,r){return a("div",{key:r,staticClass:"day-main",class:[e._getDateClasses(t,s),{selected:e.selected[s.key]&&e.selectedRows[t.id]}],attrs:{"data-day-id":r}},[a("div",{staticClass:"day-content"},[e._v(" "+e._s(s.value)+" ")])])})),0)})),0)])])])},c=[],d=a("2909"),u=a("b85c"),h=(a("a15b"),a("5a0c")),f=a.n(h),y=a("4650"),v=a.n(y),p=a("f678"),b=a.n(p),m=a("b047"),g=a.n(m),w=a("0f32"),D=a.n(w);function C(){if(void 0===s){s=!1;try{"undefined"!==typeof window&&window.parent&&window.parent.document}catch(e){s=!0}}return s}function k(e,t,a){return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}}function _(e,t){e.appendChild(t)}function S(e){e.parentNode.removeChild(e)}function M(e,t){var a=getComputedStyle(e),s=(parseInt(a.zIndex)||0)-1;"static"===a.position&&(e.style.position="relative");var r=document.createElement("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; "+"overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ".concat(s,";")),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;var o,i=C();return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=k(window,"message",(function(e){e.source===r.contentWindow&&t()}))):(r.src="about:blank",r.onload=function(){o=k(r.contentWindow,"resize",t)}),_(e,r),function(){(i||o&&r.contentWindow)&&o(),S(r)}}f.a.extend(v.a);var O=40,R=70,T=200,j=400,L=5,x=r["a"].extend({name:"HolidayPlanner",props:{resources:{type:Array,required:!0},startDate:{type:Object,default:function(){return f()().startOf("day")}},maxDate:{type:Object,default:function(){return f()().endOf("year")}},minDate:{type:Object,default:function(){return f()().startOf("year")}},infiniteScroll:{type:Boolean,default:!0},customDays:{type:Array,default:function(){return[]}},getClassFn:{type:Function,default:function(e){var t=e.day();if(6===t||0===t)return"weekend"}},getHeaderClassFn:{type:Function,default:function(e){return{today:e.isSame(f()(),"day"),"start-of-month":1===e.date()}}},getDayValueFn:{type:Function,default:function(e){return e.date()}},getDayHeaderFn:{type:Function,default:function(e){return e.format("dd")[0]}},selectionEnabled:{type:Boolean,default:!0}},created:function(){this.referenceDate=this.startDate,this.scrollableFrom=this.positionToDate(this.scrollableLeft),this.scrollableTo=this.positionToDate(this.scrollableRight),this.checkScrollableThresholdHit=g()(this._checkScrollableThresholdHit.bind(this),250),this.updateRange=D()(this._updateRange.bind(this),250)},mounted:function(){var e=this;this.createDays();var t=this.$refs.scrollBody,a=t.scrollLeft,s=t.clientWidth;this._updateRange(a,a+s),this.referenceScrollLeft=this.dateToPosition(this.referenceDate),this.$refs.scrollBody.addEventListener("scroll",this.onBodyScroll.bind(this)),M(this.$refs.scrollBody,(function(){var t=e.$refs.scrollBody,a=t.clientWidth,s=t.clientHeight;e.visibleWidth=a,e.visibleHeight=s})),setTimeout((function(){e.centerOn(e.startDate,"auto")})),this.computeClasses()},methods:{computeClasses:function(){var e,t=this.resources,a={},s=Object(u["a"])(t);try{for(s.s();!(e=s.n()).done;){var r=e.value;if(a[r.id]={},r.days){var o,i=Object(u["a"])(r.days);try{for(i.s();!(o=i.n()).done;){var n=o.value;if(n.date){var l=this.getKey(n.date);a[r.id][l]={model:n,classes:n.class}}else if(n.startDate&&n.endDate){var c=n.startDate;if(n.endDate<n.startDate){console.error("endDate is before startDate");continue}while(c<n.endDate){var d=this.getKey(c);a[r.id][d]={model:n,classes:n.class},c=c.add(1,"day")}}else console.warn("Day without date",n)}}catch(h){i.e(h)}finally{i.f()}}}}catch(h){s.e(h)}finally{s.f()}this.rowData=a},onBodyScroll:function(e){var t=this,a=this.$refs.scrollBody,s=a.scrollLeft,r=a.scrollTop,o=a.clientWidth;requestAnimationFrame((function(){t.$refs.scrollHeader.scrollLeft=s,t.$refs.scrollSide.scrollTop=r})),this.checkScrollableThresholdHit(s,o),this.updateRange(s,s+o)},onHeaderClick:function(e){var t=e.target;if(null!=t.dataset.dayId){var a=this.days[+t.dataset.dayId];this.$emit("header-click",{event:e,date:a&&a.date}),this.centerOn(a.date)}},onBodyClick:function(e){var t=e.target,a=t.closest("[data-row-id]");a&&this.$emit("row-click",{event:e,row:this.resources[+a.dataset.rowId]});var s=t.closest("[data-day-id]");if(s){var r,o=s&&this.days[+s.dataset.dayId];if(a&&o){var i=this.rowData[+a.dataset.rowId][o.key];r=i&&i.model}this.$emit("day-click",{event:e,row:a&&this.resources[+a.dataset.rowId],date:o.date,model:r})}this.selecting||this.clearSelection()},onBodyMousedown:function(e){var t=this;if(this.selectionEnabled){var a=this.$refs.rowContainer,s=function(e){var t=a.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},r=s(e),o=r.x,i=r.y,n=!1,l=function(e){var a=s(e),r=a.x,l=a.y;if(n){t.selecting=!0;var c,d=Math.min(o,r),h=Math.max(o,r),f=Math.min(i,l),y=Math.max(i,l),v={},p={},b=Object(u["a"])(t.days);try{for(b.s();!(c=b.n()).done;){var m=c.value;m.left+O>=d&&m.left<=h&&(v[m.key]=!0)}}catch(C){b.e(C)}finally{b.f()}var g,w=Object(u["a"])(t.rows);try{for(w.s();!(g=w.n()).done;){var D=g.value;D.top+R>=f&&D.top<=y&&(p[D.resource.id]=!0)}}catch(C){w.e(C)}finally{w.f()}t.selected=v,t.selectedRows=p}else{if(!(Math.abs(r-o)>L||Math.abs(l-i)>L))return;n=!0}},c=function e(a){setTimeout((function(){t.selecting=!1}));var r,n=s(a),c=n.x,d=n.y,h=Math.min(o,c),f=Math.max(o,c),y=Math.min(i,d),v=Math.max(i,d),p=[],b=[],m=Object(u["a"])(t.days);try{for(m.s();!(r=m.n()).done;){var g=r.value;g.left+O>=h&&g.left<=f&&p.push(g.date)}}catch(k){m.e(k)}finally{m.f()}var w,D=Object(u["a"])(t.rows);try{for(D.s();!(w=D.n()).done;){var C=w.value;C.top+R>=y&&C.top<=v&&b.push(C.resource)}}catch(k){D.e(k)}finally{D.f()}t.$emit("selection-end",{event:a,dates:p,resources:b}),document.body.removeEventListener("mousemove",l),document.body.removeEventListener("mouseup",e)};document.body.addEventListener("mousemove",l),document.body.addEventListener("mouseup",c)}},centerOn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",a=this.$refs.scrollBody.clientWidth,s=this.dateToPosition(e);this.$refs.scrollBody.scrollTo({left:s+O/2-a/2,behavior:t})},positionToDate:function(e){var t=Math.floor(e/O);return this.referenceDate.add(t,"day")},dateToPosition:function(e){var t=e.diff(this.scrollableFrom,"day"),a=b()(t,0,this.days.length-1);return this.days[a].left},_checkScrollableThresholdHit:function(e,t){e-this.referenceScrollLeft<this.scrollableLeftThreshold&&this._expandScrollableRange(this.scrollableLeft-j,this.scrollableRight),e+t-this.referenceScrollLeft>this.scrollableRightThreshold&&this._expandScrollableRange(this.scrollableLeft,this.scrollableRight+j)},_expandScrollableRange:function(e,t){var a=this.scrollableLeft-e;this.scrollableLeft=e,this.scrollableRight=t,this.scrollableFrom=this.minDate&&!this.infiniteScroll?f.a.max(this.positionToDate(this.scrollableLeft),this.minDate):this.positionToDate(this.scrollableLeft),this.scrollableTo=this.maxDate&&!this.infiniteScroll?f.a.min(this.positionToDate(this.scrollableRight),this.maxDate):this.positionToDate(this.scrollableRight),this.scrollableLeftThreshold=this.scrollableLeft+T,this.scrollableRightThreshold=this.scrollableRight-T,this.$refs.scrollBody.scrollLeft+=a,this.$refs.scrollHeader.scrollLeft=this.$refs.scrollBody.scrollLeft,this.createDays(),this.referenceScrollLeft=this.dateToPosition(this.referenceDate)},clearSelection:function(){this.selected={},this.selectedRows={}},createDays:function(){var e=this.scrollableFrom;this.days=[];var t=0;while(e<this.scrollableTo){var a=this.getKey(e),s={title:this.getDayHeaderFn(e),value:this.getDayValueFn(e),key:a,date:e,headerClass:this._getDateHeaderClass(e),class:this._getDateClass(e),left:t};this.days.push(s),t+=O,e=e.add(1,"day")}},_getDateHeaderClass:function(e){var t=[];t.push(this.getHeaderClassFn(e));var a=this.getKey(e),s=this.customDayRecords[a];return s&&t.push(s.headerClass),t},_getDateClass:function(e){var t=[],a=this.getKey(e),s=this.customDayRecords[a];if(s&&(Array.isArray(s.class)?t.push.apply(t,Object(d["a"])(s.class)):t.push(s.class)),this.getClassFn){var r=this.getClassFn(e);r&&(Array.isArray(r)?t.push.apply(t,Object(d["a"])(r)):t.push(r))}return t.join(" ")},_updateRange:function(e,t){var a=Math.floor(e/O),s=Math.floor(t/O)-1,r=this.days[a].date,o=this.days[s].date;this.from=r,this.to=o},getKey:function(e){return e.format("YYYY-MM-DD")},_getDateClasses:function(e,t){return(t.class?t.class+" ":"")+(this.rowData[e.id]&&this.rowData[e.id][t.key]&&this.rowData[e.id][t.key].classes||"")}},watch:{resources:function(){this.computeClasses()}},computed:{dateFormat:function(){return function(e,t){return e.format(t)}},rows:function(){var e,t=this.resources,a=[],s=0,r=Object(u["a"])(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;a.push({resource:o,top:s}),s+=R}}catch(i){r.e(i)}finally{r.f()}return a},rowContainerHeight:function(){return this.rows.length*R},rightScrollbarVisible:function(){return this.rowContainerHeight>this.visibleHeight},customDayRecords:function(){var e,t={},a=Object(u["a"])(this.customDays);try{for(a.s();!(e=a.n()).done;){var s=e.value,r=this.getKey(s.date);t[r]=s}}catch(o){a.e(o)}finally{a.f()}return t}},data:function(){return{days:[],from:null,to:null,rowData:{},selected:{},selectedRows:{},today:f()(),referenceDate:null,referenceScrollLeft:0,scrollableFrom:null,scrollableTo:null,scrollableLeft:-1200,scrollableRight:1200,scrollableLeftThreshold:null,scrollableRightThreshold:null,checkScrollableThresholdHit:function(e,t){},updateRange:function(e,t){},selecting:!1,visibleWidth:0,visibleHeight:0}}}),H=x,F=(a("ff45"),a("2877")),$=Object(F["a"])(H,l,c,!1,null,"5a3b37b9",null),B=$.exports;function P(){var e=f()().startOf("year");function t(){return e.add(Math.floor(365*Math.random()),"day")}for(var a=["orange","green","purple"],s=[{title:"Krystalle Logie",subtitle:"Senior Sales Associate",img:"assets/woman1.jpg"},{title:"Izabel Riveles",subtitle:"Senior Financial Analyst",img:"assets/woman2.jpg"},{title:"Rancell Qualtrough",subtitle:"Information Systems Manager",img:"assets/man2.jpg"},{title:"Pearle Vowels",subtitle:"Recruiter",img:"assets/man1.jpg"},{title:"Marysa Rable",subtitle:"VP Product Management",img:"assets/woman3.jpg"}],r=[],o=0;o<10;o++){for(var i=Object(n["a"])(Object(n["a"])({},s[o%s.length]),{},{id:o,days:[]}),l=[],c=0;c<24;c++){var d=Math.floor(5*Math.random()),u=a[c%3],h=t();l.push({startDate:h,endDate:h.add(d,"day"),class:u})}i.days=l,r.push(i)}return r}var E=r["a"].extend({name:"App",components:{HolidayPlanner:B},methods:{onHeaderClick:function(e){console.log("header click",e)},onRowClick:function(e){console.log("row click",e)},onDayClick:function(e){console.log("day click",e)},onSelectionEnd:function(e){console.log("selection end",e)}},data:function(){return{rows:P(),customDays:[{date:f()("2022-02-01"),headerClass:"circle circle-orange",class:"orange"}]}}}),Y=E,A=(a("034f"),Object(F["a"])(Y,o,i,!1,null,null,null)),I=A.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(I)}}).$mount("#app")},ff45:function(e,t,a){"use strict";a("0a78")}});
//# sourceMappingURL=app.04dc9b8e.js.map